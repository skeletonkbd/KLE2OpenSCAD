// KLE_data2OpenSCAD

pitch = 19.05; // キーピッチ(mm)
hole = 14; // キースイッチの穴のサイズ(mm)

// 0: x, 1: y, 2:r, 3:rx, 4:ry, 5:w, 6:h
keys = [[3,-0.1,10,1,0,1,1],[2,0.25,10,1,0,1,1],[4,0.25,10,1,0,1,1],[1,0.5,10,1,0,1,1],[5,0.6,10,1,0,1,1],[3,0.9000000000000001,10,1,0,1,1],[2,1.25,10,1,0,1,1],[4,1.25,10,1,0,1,1],[1,1.5,10,1,0,1,1],[5,1.6,10,1,0,1,1],[3,1.9000000000000001,10,1,0,1,1],[2,2.2500000000000004,10,1,0,1,1],[4,2.2500000000000004,10,1,0,1,1],[1,2.5000000000000004,10,1,0,1,1],[5,2.6000000000000005,10,1,0,1,1],[6,2.8500000000000005,10,1,0,1,1.5],[3,2.9000000000000004,10,1,0,1,1],[2,3.2500000000000004,10,1,0,1,1],[4,3.2500000000000004,10,1,0,1,1],[1,3.5,10,1,0,1,1],[5,3.6,10,1,0,1,1],[9,0.7649999999999999,-10,7,0.965,1,1],[8,1.1149999999999998,-10,7,0.965,1,1],[10,1.1149999999999998,-10,7,0.965,1,1],[11,1.3649999999999998,-10,7,0.965,1,1],[7,1.4649999999999999,-10,7,0.965,1,1],[9,1.765,-10,7,0.965,1,1],[8,2.1149999999999998,-10,7,0.965,1,1],[10,2.1149999999999998,-10,7,0.965,1,1],[11,2.3649999999999998,-10,7,0.965,1,1],[7,2.465,-10,7,0.965,1,1],[9,2.7649999999999997,-10,7,0.965,1,1],[8,3.1149999999999998,-10,7,0.965,1,1],[10,3.1149999999999998,-10,7,0.965,1,1],[11,3.365,-10,7,0.965,1,1],[7,3.4650000000000003,-10,7,0.965,1,1],[6,3.715,-10,7,0.965,1,1.5],[9,3.7649999999999997,-10,7,0.965,1,1],[8,4.114999999999999,-10,7,0.965,1,1],[10,4.114999999999999,-10,7,0.965,1,1],[11,4.364999999999999,-10,7,0.965,1,1],[7,4.464999999999999,-10,7,0.965,1,1],];

rotate([0,0,-90]) {
    for(k=keys){
        trans1_x = k[4] * pitch;
        trans1_y = k[3] * pitch;
        trans2_x = k[1] * pitch -trans1_x;
        trans2_y = k[0] * pitch -trans1_y;
        trans3_x = (k[6]-1) * pitch / 2;
        trans3_y = (k[5]-1) * pitch / 2;
        rotation = -k[2];
        ofs=-(pitch-hole)/2;

        translate([trans1_x,trans1_y,0])
        rotate([0,0,rotation])
        translate([trans2_x,trans2_y,0])
        translate([trans3_x,trans3_y,0])
        offset(ofs)
        square(pitch);
    }
}